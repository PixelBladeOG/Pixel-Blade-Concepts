<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inverse Proportional Slider</title>
  <style>
    body { font-family: sans-serif; background: #f3f4f6; display: flex; align-items: center; justify-content: center; min-height: 100vh; }
    .card { background: white; padding: 24px; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 600px; width: 100%; }
    .section { margin-bottom: 20px; }
    .flex { display: flex; align-items: center; gap: 12px; }
    input[type=number] { padding: 6px; border: 1px solid #ccc; border-radius: 6px; width: 80px; }
    input[type=range] { flex: 1; }
    label { font-size: 14px; font-weight: 500; }
    .result { background: #f9fafb; padding: 12px; border-radius: 8px; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <div class="card">
    <h1 style="text-align:center; font-size: 20px; font-weight: bold; margin-bottom: 16px;">Inverse Proportional Slider</h1>

    <div class="section">
      <label>Base Winrate (%)</label><br>
      <input id="baseWinrate" type="number" value="66.67" min="0" max="100" step="0.1">
    </div>

    <div class="section">
      <label>Base Risk:Reward</label><br>
      <input id="baseRR" type="number" value="1" min="0.1" step="0.1">
    </div>

    <div class="section">
      <label>Current Winrate (%)</label>
      <div class="flex">
        <input id="winrateSlider" type="range" min="0" max="100" step="0.1" value="66.67">
        <input id="winrateInput" type="number" min="0" max="100" step="0.1" value="66.67">
      </div>
    </div>

    <div class="section">
      <label>Current Reward (RR)</label>
      <div class="flex">
        <input id="rrSlider" type="range" min="0.5" max="10" step="0.1" value="1">
        <input id="rrInput" type="number" min="0.5" max="10" step="0.1" value="1">
      </div>
    </div>

    <div class="result">
      <p><strong>Current Winrate:</strong> <span id="currentWinrate">66.67</span>%</p>
      <p><strong>Current RR:</strong> 1:<span id="currentRR">1.00</span></p>
      <p><strong>Expected Reward per Trade:</strong> <span id="expectedReward">0.67</span> R</p>
      <p style="font-size: 14px; color: #555;">(Winrate and RR adjust inversely based on base values)</p>
    </div>
  </div>

  <script>
    const baseWinrate = document.getElementById("baseWinrate");
    const baseRR = document.getElementById("baseRR");
    const winrateSlider = document.getElementById("winrateSlider");
    const winrateInput = document.getElementById("winrateInput");
    const rrSlider = document.getElementById("rrSlider");
    const rrInput = document.getElementById("rrInput");
    const currentWinrateSpan = document.getElementById("currentWinrate");
    const currentRRSpan = document.getElementById("currentRR");
    const expectedRewardSpan = document.getElementById("expectedReward");

    function updateFromWinrate(newWinrate) {
      if (!newWinrate || newWinrate <= 0) return;
      winrateSlider.value = newWinrate;
      winrateInput.value = newWinrate;
      const newRR = (parseFloat(baseWinrate.value) * parseFloat(baseRR.value)) / newWinrate;
      rrSlider.value = newRR;
      rrInput.value = newRR;
      updateDisplay(newWinrate, newRR);
    }

    function updateFromRR(newRR) {
      if (!newRR || newRR <= 0) return;
      rrSlider.value = newRR;
      rrInput.value = newRR;
      const newWinrate = (parseFloat(baseWinrate.value) * parseFloat(baseRR.value)) / newRR;
      winrateSlider.value = newWinrate;
      winrateInput.value = newWinrate;
      updateDisplay(newWinrate, newRR);
    }

    function updateDisplay(winrate, rr) {
      currentWinrateSpan.textContent = parseFloat(winrate).toFixed(2);
      currentRRSpan.textContent = parseFloat(rr).toFixed(2);
      const expectedReward = (winrate/100) * rr;
      expectedRewardSpan.textContent = expectedReward.toFixed(2);
    }

    winrateSlider.addEventListener("input", e => updateFromWinrate(parseFloat(e.target.value)));
    winrateInput.addEventListener("input", e => updateFromWinrate(parseFloat(e.target.value)));
    rrSlider.addEventListener("input", e => updateFromRR(parseFloat(e.target.value)));
    rrInput.addEventListener("input", e => updateFromRR(parseFloat(e.target.value)));

    updateDisplay(winrateSlider.value, rrSlider.value);
  </script>
</body>
</html>
